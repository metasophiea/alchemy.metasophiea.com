2:I[5555,["5555","static/chunks/5555-7fa0558dbec5c878.js","8500","static/chunks/app/guide/developer/tutorials/article/getting-started/2/page-35a3605c84fa033c.js"],""]
3:I[6882,[],""]
4:I[6126,[],""]
5:I[4929,["5555","static/chunks/5555-7fa0558dbec5c878.js","3185","static/chunks/app/layout-c47e5a370eac07c3.js"],"default"]
0:["P1Sn3uDtZvXQvTrYRLbnO",[[["",{"children":["guide",{"children":["developer",{"children":["tutorials",{"children":["article",{"children":["getting-started",{"children":["2",{"children":["__PAGE__",{}]}]}]}]}]}]}]},"$undefined","$undefined",true],["",{"children":["guide",{"children":["developer",{"children":["tutorials",{"children":["article",{"children":["getting-started",{"children":["2",{"children":["__PAGE__",{},[["$L1",["$","main",null,{"children":["$","div",null,{"className":"style_main__c51pI","children":[["$","div",null,{"className":"style_main__F_177","children":[["$","$L2","0",{"href":"/","className":"style_link__eozNW","aria-disabled":false,"tabIndex":"$undefined","children":"home"}],["$","p","divider1",{"className":"style_divider__YWHjs","children":"/"}],["$","$L2","1",{"href":"/guide","className":"style_link__eozNW","aria-disabled":false,"tabIndex":"$undefined","children":"guide"}],["$","p","divider2",{"className":"style_divider__YWHjs","children":"/"}],["$","$L2","2",{"href":"/guide/developer","className":"style_link__eozNW","aria-disabled":false,"tabIndex":"$undefined","children":"developer"}],["$","p","divider3",{"className":"style_divider__YWHjs","children":"/"}],["$","$L2","3",{"href":"/guide/developer/tutorials","className":"style_link__eozNW","aria-disabled":false,"tabIndex":"$undefined","children":"tutorials"}],["$","p","divider4",{"className":"style_divider__YWHjs","children":"/"}],["$","$L2","4",{"href":"/guide/developer/tutorials/article/getting-started/2","className":"style_link__eozNW","aria-disabled":true,"tabIndex":-1,"children":"Getting Started - Part 2"}]]}],["$","div",null,{"className":"style_content__rQ3D1","children":[["$","h1",null,{"className":"style_title__QJpJn","children":"Getting Started - Part 2"}],["$","h2",null,{"className":"style_subTitle___R0E7","children":"Light And Switch - Import / Export"}],["$","img",null,{"src":"/four_colour_stripes_banner.png","className":"style_headerImage__jM6kU"}],["$","div",null,{"className":"style_childrenWrapper__Nt54u","children":[["$","div",null,{"className":"style_main__L8yyS","children":[["$","h3",null,{"className":"style_title__oTWxy","children":"Note"}],["$","p",null,{"children":"This article is part of a series. If you haven't completed part one, we recommend you do so before continuing with this one."}]]}],["$","p",null,{"children":"We're going to use the unit you created in the previous chapter and modify it to have the Import / Export functionality."}],["$","h2",null,{"children":"How Does Import / Export Work"}],["$","p",null,{"children":"At some point during the program a user might decide to copy-and-paste your unit. We therefore want some way to clone a unit so that the pasted one is exactly the same as the copied one. A lot of this process is already handled by Alchemy, but the internal configuration is left up to the designer of the unit to handle. This is where the \"Import/Export\" interface comes in."}],["$","p",null,{"children":"During the process of copying a unit, Alchemy will collect all relevant information (unit type, position, connections, etc.) and also collect the unit's \"exportable\" data. \"exportable\" data is data held in Alchemy on a per-unit basis, which can be updated using the \"UpdateExportableData\" command. Upon pasting, Alchemy creates the unit then runs the \"import\" method providing the same \"exportable\" data that was collected before."}],["$","p",null,{"children":"Alchemy only stipulates that this data is a string, meaning that any format can be used so long as it is representable in string form. The collection and encoding of this data and the updating of the Alchemy held \"exportable\" data is the responsibility of the unit's designer, as is the correct decoding and distribution of this data."}],["$","p",null,{"children":"The same \"Import/Export\" system is also used for saving/loading a project file."}],["$","h2",null,{"children":"Let's Do It"}],["$","p",null,{"children":"All you have to do is modify the main.ts file to look like this"}],["$","div",null,{"className":"style_main__GW_QM","children":[["$","div",null,{"className":"style_lineNumbers__S0NBN","children":[["$","pre","0",{"className":"style_line__dmLdn","children":0}],["$","pre","1",{"className":"style_line__dmLdn","children":1}],["$","pre","2",{"className":"style_line__dmLdn","children":2}],["$","pre","3",{"className":"style_line__dmLdn","children":3}],["$","pre","4",{"className":"style_line__dmLdn","children":4}],["$","pre","5",{"className":"style_line__dmLdn","children":5}],["$","pre","6",{"className":"style_line__dmLdn","children":6}],["$","pre","7",{"className":"style_line__dmLdn","children":7}],["$","pre","8",{"className":"style_line__dmLdn","children":8}],["$","pre","9",{"className":"style_line__dmLdn","children":9}],["$","pre","10",{"className":"style_line__dmLdn","children":10}],["$","pre","11",{"className":"style_line__dmLdn","children":11}],["$","pre","12",{"className":"style_line__dmLdn","children":12}],["$","pre","13",{"className":"style_line__dmLdn","children":13}],["$","pre","14",{"className":"style_line__dmLdn","children":14}],["$","pre","15",{"className":"style_line__dmLdn","children":15}],["$","pre","16",{"className":"style_line__dmLdn","children":16}],["$","pre","17",{"className":"style_line__dmLdn","children":17}],["$","pre","18",{"className":"style_line__dmLdn","children":18}],["$","pre","19",{"className":"style_line__dmLdn","children":19}],["$","pre","20",{"className":"style_line__dmLdn","children":20}],["$","pre","21",{"className":"style_line__dmLdn","children":21}],["$","pre","22",{"className":"style_line__dmLdn","children":22}],["$","pre","23",{"className":"style_line__dmLdn","children":23}],["$","pre","24",{"className":"style_line__dmLdn","children":24}],["$","pre","25",{"className":"style_line__dmLdn","children":25}],["$","pre","26",{"className":"style_line__dmLdn","children":26}]]}],["$","div",null,{"className":"style_lines__PGiOP","children":[["$","pre","0",{"className":"style_line__dmLdn style_dim__3BD2K","children":"import apiConsole from \"../typescript-deno-0.3.3-0.1.0/index.ts\";"}],["$","pre","1",{"className":"style_line__dmLdn style_dim__3BD2K","children":" "}],["$","pre","2",{"className":"style_line__dmLdn","children":"let state = false;"}],["$","pre","3",{"className":"style_line__dmLdn","children":" "}],["$","pre","4",{"className":"style_line__dmLdn","children":"function updateExportableData() {"}],["$","pre","5",{"className":"style_line__dmLdn","children":"\tapiConsole.unit.updateExportableData("}],["$","pre","6",{"className":"style_line__dmLdn","children":"\t\tJSON.stringify(state)"}],["$","pre","7",{"className":"style_line__dmLdn","children":"\t);"}],["$","pre","8",{"className":"style_line__dmLdn","children":"}"}],["$","pre","9",{"className":"style_line__dmLdn","children":" "}],["$","pre","10",{"className":"style_line__dmLdn","children":"apiConsole.unit.setImportListener(({dataString}) => {"}],["$","pre","11",{"className":"style_line__dmLdn","children":"\tstate = JSON.parse(dataString) as boolean;"}],["$","pre","12",{"className":"style_line__dmLdn","children":"\tapiConsole.interface.glowbox.onOff(0, true,  state);"}],["$","pre","13",{"className":"style_line__dmLdn","children":"\tif(state) {"}],["$","pre","14",{"className":"style_line__dmLdn","children":"\t\tapiConsole.interface.checkbox.check(1, true);"}],["$","pre","15",{"className":"style_line__dmLdn","children":"\t} else {"}],["$","pre","16",{"className":"style_line__dmLdn","children":"\t\tapiConsole.interface.checkbox.uncheck(1, true);"}],["$","pre","17",{"className":"style_line__dmLdn","children":"\t}"}],["$","pre","18",{"className":"style_line__dmLdn","children":"});"}],["$","pre","19",{"className":"style_line__dmLdn","children":" "}],["$","pre","20",{"className":"style_line__dmLdn style_dim__3BD2K","children":"apiConsole.unit.setMouseEventListener(({ event }) => {"}],["$","pre","21",{"className":"style_line__dmLdn style_dim__3BD2K","children":"\tif(event.type === \"checkbox\") {"}],["$","pre","22",{"className":"style_line__dmLdn","children":"\t\tstate = event.content === \"checked\";"}],["$","pre","23",{"className":"style_line__dmLdn","children":"\t\tapiConsole.interface.glowbox.onOff(0, true,  state);"}],["$","pre","24",{"className":"style_line__dmLdn","children":"\t\tupdateExportableData();"}],["$","pre","25",{"className":"style_line__dmLdn style_dim__3BD2K","children":"\t}"}],["$","pre","26",{"className":"style_line__dmLdn style_dim__3BD2K","children":"});"}]]}]]}],["$","p",null,{"children":"Its a pretty simple change, but lets step through it"}],["$","div",null,{"className":"style_group__QbD74","children":[["$","p",null,{"children":"Our code journey starts at line 2, where we define the state of the unit. In this case the unit is very simple, so the state only needs to hold a boolean value representing whether the light is on or off."}],["$","p",null,{"children":"There are two actions that must be accounted for"}],["$","ul",null,{"children":[["$","li",null,{"children":[["$","b",null,{"children":"importing"}]," - receiving a state from Alchemy"]}],["$","li",null,{"children":[["$","b",null,{"children":"exporting"}]," - sending a new state off to Alchemy to be stored"]}]]}],["$","p",null,{"children":"Lets start with Exporting first"}],["$","p",null,{"children":"Lines 4 through 8 are where we define a function to handle the process of updating the Alchemy-stored state. We can see it calling the console's unit-function \"updateExportableData\" and providing it with a Json stringified version of the boolean state we set up earlier."}],["$","p",null,{"children":"The function is used on line 24, within the mouse event callback function, just after the state boolean and glowbox are set. This way, whenever the state of the unit is changed, the unit immediately updates the Alchemy-stored state."}],["$","p",null,{"children":"Now for Importing"}],["$","p",null,{"children":"Lines 10 through 18 handle the importing. Here we see the listener for the import event \"setImportListener\" is given a callback, which takes \"dataString\" as an argument. This \"dataString\" is the very same Json stringified boolean we sent to Alchemy with the \"updateExportableData\", so decoding it is just a simple case of running the Json \"parse\" command."}],["$","p",null,{"children":"Once we have the state decoded, we simply update the boolean value, glowbox and checkbox."}]]}],["$","h2",null,{"children":"Done!"}],["$","p",null,{"children":"Congratulations! You've gotten import and export working!"}],["$","p",null,{"children":"It really is that simple. Alchemy will store whatever string you give it, so you have total freedom to encode your data in whatever way you see fit."}],["$","p",null,{"children":"In the next chapter, we're going to look at Undo and Redo"}]]}],["$","div",null,{"className":"style_previousNext__Pea0Y","children":[["$","$L2",null,{"href":"/guide/developer/tutorials/article/getting-started/1","className":"style_nextPreviousButton__BDi40 style_previousPage__i2BI3","children":"Previous"}],["$","$L2",null,{"href":"/guide/developer/tutorials/article/getting-started/3","className":"style_nextPreviousButton__BDi40 style_nextPage__eSJ7i","children":"Next"}]]}]]}]]}]}]],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","guide","children","developer","children","tutorials","children","article","children","getting-started","children","2","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/1e77d4be0100a2d3.css","precedence":"next","crossOrigin":"$undefined"}]]}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","guide","children","developer","children","tutorials","children","article","children","getting-started","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","guide","children","developer","children","tutorials","children","article","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","guide","children","developer","children","tutorials","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","guide","children","developer","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","guide","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","html",null,{"lang":"en","children":["$","body",null,{"className":"__className_792391","children":["$","div",null,{"className":"style_main__l8Il9","children":[["$","div",null,{"children":[[["$","div",null,{"className":"style_desktop__CvcZU","children":["$","div",null,{"className":"style_main__JqgJs","children":[["$","div",null,{"className":"style_logo___Nv4Y","children":["$","$L2",null,{"href":"/","className":"style_logoLink__8L3yx","children":["$","img",null,{"src":"/icon.png","className":"style_logoImage__PktfC"}]}]}],["$","div",null,{"className":"style_links__h4_vb","children":[[["$","div","link-0",{"className":"style_linkAndSub__7qTZ1","children":[["$","$L2",null,{"href":"/news","className":"style_link__4XuJC","children":"News"}],"$undefined"]}],["$","div","link-1",{"className":"style_linkAndSub__7qTZ1","children":[["$","$L2",null,{"href":"/guide","className":"style_link__4XuJC","children":"Guide"}],["$","div",null,{"className":"style_sub__vF1DF","children":[["$","div","link-1-sublink-0",{"className":"style_linkAndSub__7qTZ1","children":["$","$L2",null,{"href":"/guide/getting-started","className":"style_link__4XuJC","children":"Getting Started"}]}],["$","div","link-1-sublink-1",{"className":"style_linkAndSub__7qTZ1","children":["$","$L2",null,{"href":"/guide/units","className":"style_link__4XuJC","children":"Units"}]}],["$","div","link-1-sublink-2",{"className":"style_linkAndSub__7qTZ1","children":["$","$L2",null,{"href":"/guide/developer","className":"style_link__4XuJC","children":"Developer"}]}]]}]]}]],["$","$L2",null,{"href":"/download","className":"style_download__caECe","children":"Download"}]]}]]}]}],["$","div",null,{"className":"style_mobile__mRKt2","children":["$","$L5",null,{}]}]],["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]]}],["$","footer",null,{"className":"style_main__NsKqp","children":[["$","img",null,{"src":"/four_colour_stripes_banner.png","className":"style_backgroundImage___DZ8F"}],["$","div",null,{"className":"style_overlay__nf3f4","children":["$","p",null,{"children":"© Metasophiea / Interloper 2024"}]}]]}]]}]}]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/ab33bba60e28c509.css","precedence":"next","crossOrigin":"$undefined"}]],"$L6"]]]]
6:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Alchemy"}],["$","meta","3",{"name":"description","content":"A Virtual Studio"}],["$","meta","4",{"name":"next-size-adjust"}]]
1:null
